# university-db-design 
*(Проектирование базы данных в рамках дисциплины "Проектированние баз данных")*

## **Описание**
В качестве темы проекта была выбрана деятельность спортивного зала. В качестве бизнес-процесса - продажа абонемента в спортивный зал.

**В ходе работы были реализованы:**

* DFD-модель бизнес-процесса продажи абонемента;
* ER-диаграмма БД;
* SQL-скрипт для создания таблиц и связей БД;
* SQL-скрипт для заполнения таблиц и демонстрации таблицы.

**Файлы:**

* schema.sql - DDL скрипт с созданием таблиц, индексов, отношений;
* data_insert.sql - DDL скрипт для заполнения таблиц;
* data.sql - Примеры запросов к БД для демонстрации данных таблиц;

*Для создания БД и просмотра ее содержимого достаточно выполнить три эти скрипта в порядке очередности, в которой они указаны выше.*

## DFD-модель
*В рамках выполнения работы лдя бизнес-процесса "Продажа абонемента спортивного зала" была построена DFD модель (рисунок снизу), на которой отображены следующие элементы: внешние сущности, хранилища данных, процессы, потоки.*



![Без имени-1](https://github.com/user-attachments/assets/6fda3f5d-5901-4626-8283-10f1e90f9691)

Ниже представлена таблица с описанием сущностей:

|**Элемент**|**Наименование**|**Описание**|
|:-:|:-:|:-|
|Внешняя сущность|Клиент|Физическое лицо, обращающееся за покупкой абонемента|
||Менеджер|Работник, оформляющий абонемент, взаимодействующий с клиентом|
||Платежный шлюз|Внешняя система для обработки оплаты (банк или онлайн сервис|
|Процесс| Регистрация клиента|Внесение/обновление данных клиента в системе|
||Подбор абонемента|Представление информации о доступных абонементах и выбор клиентом|
||Оформление абонементы|Создание договора, генерация уникального номера абонемента|
||Оплата услуги| Проведение платежа через кассу/онлайн сервис/банк|
||Выдача абонемента|Активация и передача клиенту электронного ключа/карты|
|Хранилище данных|Клиенты|База данных с информацией о клиентах (ФИО, контакты)|
||Информация об абонементах|Список доступных абонементов с параметрами (цена, срок и пр.)|
||Абонементы|Данные о выданных абонементах (ID клиента, даты, статус)|
||Платежи|История оплат (ID абонемента, сумма, дата, способ оплаты)|
|Поток данных|Запрос на абонемент|Информация от клиента о желаемом типе абонемента|
||Данные клиента|ФИО, контакты, медицинские показания для регистрации|
||Список абонементов|Варианты абонементов, предоставляемые клиенту для выбора|
||Выбранный тип абонемента|Параметры абонемента, выбранные клиентом (срок, зоны)|
||Данные оплаты|Информация о сумме и способе оплаты, передаваемая в платежный шлюз|
||Подтверждение оплаты|Уведомление от платежного шлюза об успешной транзакции|

## ER-диаграмма
Разумеется, перед непосредственной разработкой базы данных, необходимо было разработать ER-диаграмму, наглядно демонстрирующую данные в системе и связи между ними. Посмотреть ее можно ниже:

![image](https://github.com/user-attachments/assets/fc8e2ac8-d051-4b52-a8ef-7bda843d6e41)



